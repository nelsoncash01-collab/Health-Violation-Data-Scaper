<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NYC Real Estate Opportunities</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #1a1a2e;
            color: white;
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 400px;
            background: #16213e;
            border-right: 2px solid #ffd700;
            overflow-y: auto;
            padding: 20px;
        }

        .sidebar h2 {
            color: #ffd700;
            margin-bottom: 20px;
            text-align: center;
        }

        .sort-controls {
            margin-bottom: 20px;
            text-align: center;
        }

        .sort-controls label {
            display: block;
            margin-bottom: 5px;
            color: #ccc;
            font-size: 14px;
        }

        .sort-controls select {
            width: 100%;
            padding: 8px;
            background: #1a1a2e;
            color: white;
            border: 1px solid #ffd700;
            border-radius: 4px;
            font-size: 14px;
        }

        .opportunity {
            background: rgba(255, 255, 255, 0.1);
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffd700;
            cursor: pointer;
            transition: background 0.3s;
        }

        .opportunity:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .opportunity-name {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .opportunity-value {
            color: #4caf50;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .opportunity-address {
            font-size: 14px;
            color: #ccc;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
            height: 100vh;
        }

        .content-section {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #ffd700;
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
        }

        .section-title {
            color: #ffd700;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .property-details {
            text-align: center;
        }

        .property-name {
            font-size: 24px;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .property-value {
            font-size: 20px;
            color: #4caf50;
            margin-bottom: 15px;
        }

        .property-info {
            margin-bottom: 20px;
            text-align: left;
        }

        .property-info p {
            margin-bottom: 8px;
        }

        .owner-button {
            background: #ffd700;
            color: #1a1a2e;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }

        .owner-button:hover {
            background: #ffed4e;
        }

        .export-section {
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .export-button {
            background: #4caf50;
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 18px;
            margin-top: 20px;
        }

        .export-button:hover {
            background: #45a049;
        }

        .loading {
            text-align: center;
        }

        .loading-spinner {
            border: 4px solid #333;
            border-top: 4px solid #ffd700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>Investment Opportunities</h2>

        <div class="sort-controls">
            <label for="sortSelect">Sort by:</label>
            <select id="sortSelect">
                <option value="value_desc">Value (High to Low)</option>
                <option value="value_asc">Value (Low to High)</option>
                <option value="name_asc">Name (A to Z)</option>
                <option value="name_desc">Name (Z to A)</option>
                <option value="date_desc">Date (Recent First)</option>
                <option value="date_asc">Date (Oldest First)</option>
            </select>
        </div>

        <div id="opportunitiesList">
            <div class="loading">
                <div class="loading-spinner"></div>
                <p>Loading opportunities...</p>
            </div>
        </div>
    </div>

    <div class="main-content">
        <!-- Property Details Section -->
        <div class="content-section">
            <div class="section-title">Property Details</div>
            <div id="propertyDetails" class="property-details">
                <p>Select an opportunity from the left to view details</p>
            </div>
        </div>

        <!-- Histogram Section -->
        <div class="content-section">
            <div class="section-title">Property Value Distribution</div>
            <canvas id="histogramChart" width="400" height="300"></canvas>
        </div>

        <!-- Welcome Section -->
        <div class="content-section">
            <div class="section-title">Welcome to NYC Real Estate Intelligence</div>
            <div style="text-align: left; line-height: 1.6;">
                <p style="margin-bottom: 15px; font-size: 16px; color: #ffd700;">
                    <strong>Discover Investment Opportunities from Health Violations</strong>
                </p>

                <p style="margin-bottom: 12px;">
                    This platform analyzes NYC health department violations to identify distressed commercial real estate opportunities. When restaurants fail health inspections or get shut down, their properties often become available at attractive prices.
                </p>

                <p style="margin-bottom: 12px;">
                    <strong>How it works:</strong>
                </p>
                <ul style="margin-left: 20px; margin-bottom: 12px;">
                    <li style="margin-bottom: 5px;">AI scans health violation data daily</li>
                    <li style="margin-bottom: 5px;">Machine learning predicts property values</li>
                    <li style="margin-bottom: 5px;">Owner lookup provides contact information</li>
                    <li style="margin-bottom: 5px;">Export data for your investment analysis</li>
                </ul>

                <p style="font-size: 14px; color: #ccc; margin-top: 15px;">
                    Click any opportunity on the left to view detailed property information and contact the owner directly.
                </p>
            </div>
        </div>

        <!-- Export Section -->
        <div class="content-section export-section">
            <div class="section-title">Data Export</div>
            <p>Download all opportunities from the past month</p>
            <button class="export-button" onclick="exportToExcel()">
                Export This Past Month's Data in Excel!
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>